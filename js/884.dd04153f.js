"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[884],{884:function(e,o,l){l.r(o),l.d(o,{default:function(){return M}});var r=l(3396),s=l(9242);const t=(0,r._)("h1",null,"This is a register page",-1),a={id:"registerForm"},n={class:"mb-3"},i=(0,r._)("label",{for:"formName",class:"form-label"},"Nom",-1),m={class:"mb-3"},d=(0,r._)("label",{for:"formFirstName",class:"form-label"},"Prénom",-1),u={class:"mb-3"},f=(0,r._)("label",{for:"formEmail",class:"form-label"},"Adresse Email",-1),c={class:"mb-3"},p=(0,r._)("label",{for:"formGenre",class:"form-label"},"Genre",-1),h=(0,r._)("option",{value:""},"Selectionnez votre genre",-1),_=(0,r._)("option",{value:"1"},"homme",-1),b=(0,r._)("option",{value:"2"},"femme",-1),y=(0,r._)("option",{value:"3"},"autre",-1),I=[h,_,b,y],w={class:"mb-3"},v=(0,r._)("label",{for:"formBirthDate",class:"form-label"},"Date de naissance",-1),g={class:"mb-3"},D=(0,r._)("label",{for:"formTelephone",class:"form-label"},"Telephone",-1),P={class:"mb-3"},q=(0,r._)("label",{for:"formCountry",class:"form-label"},"Pays",-1),V={class:"mb-3"},C=(0,r._)("label",{for:"formCity",class:"form-label"},"Ville",-1),U={class:"mb-3"},k=(0,r._)("label",{for:"formAddress",class:"form-label"},"Adresse",-1),R={class:"mb-3"},x=(0,r._)("label",{for:"formHealthDocument",class:"form-label"},"Document de santé",-1),T={class:"mb-3"},N=(0,r._)("label",{for:"formPassword",class:"form-label"},"Mot de passe",-1),S={class:"mb-3"},A=(0,r._)("label",{for:"formRePassword",class:"form-label"},"Confirmez le mot de passe",-1),F={class:"mb-3"};function E(e,o,l,h,_,b){return(0,r.wg)(),(0,r.iD)("div",null,[t,(0,r._)("form",a,[(0,r._)("div",n,[i,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"formName","onUpdate:modelValue":o[0]||(o[0]=e=>_.userInfo.nom=e),required:""},null,512),[[s.nr,_.userInfo.nom]])]),(0,r._)("div",m,[d,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"formFirstName","onUpdate:modelValue":o[1]||(o[1]=e=>_.userInfo.prenom=e),required:""},null,512),[[s.nr,_.userInfo.prenom]])]),(0,r._)("div",u,[f,(0,r.wy)((0,r._)("input",{type:"email",class:"form-control",id:"formEmail",placeholder:"name@example.com","onUpdate:modelValue":o[2]||(o[2]=e=>_.userInfo.email=e),required:""},null,512),[[s.nr,_.userInfo.email]])]),(0,r._)("div",c,[p,(0,r.wy)((0,r._)("select",{class:"form-select","aria-label":"Default select example",id:"formGenre","onUpdate:modelValue":o[3]||(o[3]=e=>_.userInfo.genre=e)},I,512),[[s.bM,_.userInfo.genre]])]),(0,r._)("div",w,[v,(0,r.wy)((0,r._)("input",{type:"date",class:"form-control",id:"formBirthDate","onUpdate:modelValue":o[4]||(o[4]=e=>_.userInfo.date_birth=e),required:""},null,512),[[s.nr,_.userInfo.date_birth]])]),(0,r._)("div",g,[D,(0,r.wy)((0,r._)("input",{type:"tel",class:"form-control",id:"formTelephone","onUpdate:modelValue":o[5]||(o[5]=e=>_.userInfo.tel=e),required:""},null,512),[[s.nr,_.userInfo.tel]])]),(0,r._)("div",P,[q,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"formCountry","onUpdate:modelValue":o[6]||(o[6]=e=>_.userInfo.pays=e),required:""},null,512),[[s.nr,_.userInfo.pays]])]),(0,r._)("div",V,[C,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"formCity","onUpdate:modelValue":o[7]||(o[7]=e=>_.userInfo.ville=e),required:""},null,512),[[s.nr,_.userInfo.ville]])]),(0,r._)("div",U,[k,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"formAddress","onUpdate:modelValue":o[8]||(o[8]=e=>_.userInfo.adresse=e),required:""},null,512),[[s.nr,_.userInfo.adresse]])]),(0,r._)("div",R,[x,(0,r._)("input",{type:"file",class:"form-control",id:"formHealthDocument",required:"",onChange:o[9]||(o[9]=e=>b.handleDocumentPlacement(e))},null,32)]),(0,r._)("div",T,[N,(0,r.wy)((0,r._)("input",{type:"password",class:"form-control",id:"formPassword",placeholder:"********","onUpdate:modelValue":o[10]||(o[10]=e=>_.userInfo.password=e),required:""},null,512),[[s.nr,_.userInfo.password]])]),(0,r._)("div",S,[A,(0,r.wy)((0,r._)("input",{type:"password",class:"form-control",id:"formRePassword",placeholder:"********","onUpdate:modelValue":o[11]||(o[11]=e=>_.rePassword=e),required:""},null,512),[[s.nr,_.rePassword]])]),(0,r._)("div",F,[(0,r._)("button",{type:"submit",class:"btn btn-primary",onClick:o[12]||(o[12]=e=>b.handleRegister(e))},"Register")])])])}l(7658);var H={data(){return{userInfo:{nom:"",prenom:"",email:"",genre:"",date_birth:"",tel:"",pays:"",ville:"",adresse:"",password:""},healthDocument:null,rePassword:""}},methods:{handleDocumentPlacement(e){this.healthDocument=e.target.files[0]},handleRegister(e){if(""==this.userInfo.nom||""==this.userInfo.prenom||""==this.userInfo.email||""==this.userInfo.genre||""==this.userInfo.date_birth||""==this.userInfo.tel||""==this.userInfo.pays||""==this.userInfo.ville||""==this.userInfo.adresse||""==this.userInfo.password)return void alert("Please fill all the fields");if(e.preventDefault(),console.log(this.userInfo),this.userInfo.password!==this.rePassword)return void alert("Password not match");fetch(this.api_url+"auth/registerClient",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.userInfo)}).then((e=>e.json())).then((e=>{console.log(e),null!=e.id_client?(localStorage.setItem("token",e.token),this.$router.push("/login")):alert("Register failed")}));let o=new FormData;o.append("file",this.file),o.append("nom_document","Document de santé");let l=new XMLHttpRequest;l.open("POST",this.api_url+"document/addDocument"),l.setRequestHeader("Authorization",localStorage.getItem("token")),l.send(o),l.onload=()=>{200==l.status?console.log("File sent"):console.log("Error while sending file")}}}},z=l(89);const G=(0,z.Z)(H,[["render",E]]);var M=G}}]);
//# sourceMappingURL=884.dd04153f.js.map