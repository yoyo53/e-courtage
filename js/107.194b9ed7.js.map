{"version":3,"file":"js/107.194b9ed7.js","mappings":"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","sources":["webpack://front/./src/views/AdminClientsView.vue","webpack://front/./src/components/ClientsListElement.vue","webpack://front/./src/components/ClientsListElement.vue?99db","webpack://front/./src/views/AdminClientsView.vue?0434"],"sourcesContent":["<template>\n    <div>\n      <div>\n        <HeaderComponent/>\n      </div>\n      <div id=\"links\">\n        <router-link class=\"link\" to=\"/admin/Banques\">Banques</router-link>\n        <router-link class=\"link\" to=\"/admin/Clients\">Clients</router-link>\n        <router-link class=\"link\" to=\"/admin/Demandes\">Demandes</router-link>\n      </div>\n      <div id=\"main-body\">\n        <h3>Liste des clients :</h3>\n        <div id=\"clients-overview-area\" class=\"section-list\">\n          <div id=\"clients-area-header\">\n            <div id=\"search-input\" class=\"input-group flex-nowrap\">\n              <input type=\"text\" class=\"form-control\" placeholder=\"Recherche\" aria-label=\"Recherche\" aria-describedby=\"addon-wrapping\" v-model=\"searchInput\">\n            </div>\n          </div>\n          <div id=\"clients-list-container\">\n            <ul id=\"clients-list\" class=\"section-list\">\n              <clients-list-element @updateClient=\"fetchClients()\" v-for=\"client in filteredClients\" :key=\"client.id\" :client=\"client\"></clients-list-element>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import ClientsListElement from '@/components/ClientsListElement.vue';\n  import HeaderComponent from '@/components/HeaderComponent.vue'\n  \n  export default {\n    name: 'BankHomeView',\n    components: {\n      HeaderComponent,\n      ClientsListElement\n    },\n    data() {\n      return {\n        clients: [],\n        searchInput: \"\"\n      }\n    },\n    computed: {\n      filteredClients() {\n        if (this.searchInput) {\n          const searchKeyword = this.searchInput.toLowerCase();\n          return this.clients.filter(client => {\n            return client.nom.toLowerCase().includes(searchKeyword) || \n            client.prenom.toLowerCase().includes(searchKeyword) ||\n            client.id_client.toString().toLowerCase().includes(searchKeyword);\n          });\n        } else {\n          return this.clients;\n        }\n      }\n    },\n    methods: {\n      async fetchClients() {\n        const token = localStorage.getItem('token');\n        const response = await fetch(this.api_url + \"admin/getAllClients\", {\n          headers: {\n            'authorization': token\n          }\n        });\n        const data = await response.json();\n        this.clients = data;\n      }\n    },\n    mounted() {\n      this.fetchClients();\n    },\n    beforeUnmount() {\n      console.log(\"Unmounted\");\n    }\n  }\n  </script>\n  \n  \n  <style scoped>\n\n#links {\n  display: flex;\n  justify-content: space-between;\n  width: 30%;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 20px;\n}\n\n#links .link {\n  text-decoration: none;\n  border: 1px solid #000;\n  border-radius: 10px;\n  background-color: white;\n  color: black;\n  padding: 5px 10px;\n  font-size: 26px;\n  flex-basis: 0;\n  flex-grow: 1;\n}\n\n\n  #clients-list-container {\n    -ms-overflow-style: none;  /* IE and Edge */\n    scrollbar-width: none;  /* Firefox */\n  }\n  \n  #clients-list-container::-webkit-scrollbar {\n    display: none;\n  }\n  \n  #clients-list-container {\n    max-height: 600px;\n    overflow-y: auto;\n    border: 2px solid aliceblue;\n    border-radius: 15px;\n    max-width: 60%;\n    margin-left: auto;\n    margin-right: auto;\n  }\n  \n  #search-input {\n      margin-bottom: 10px;\n      width: 20%;\n      margin-left: auto;\n      margin-right: auto;\n  }\n  </style>\n  ","<template>\n    <div id=\"clientListElement\" :class=\"borderClass\">\n        <div id=\"buttons_options\">\n            <span><p id=\"delete\" class=\"but\" @click=\"deleteClient(client.id_client, client.account_status)\">x</p></span>\n        </div>\n        <span id=\"clientName\">{{ client.nom }} {{ client.prenom }}</span>\n        <div class=\"clientRow\"><span> ID : {{ client.id_client }} </span></div>\n        <bank-demand-detail :demand=\"demand\"/>\n    </div>\n</template>\n\n<script>\nexport default {\n  name: 'clientsListElement',\n  props: {\n    client: {\n      type: Object,\n      required: true\n    }\n  },\n  computed: {\n    borderClass() {\n      if (this.client.account_status) {\n        return 'active-border';\n      } else if (!this.client.account_status) {\n        return 'inactive-border';\n      } else {\n        return '';\n      }\n    }\n  },\n  methods: {\n    handleDisplayDetail() {\n      alert(\"WIP\");\n    },\n    async deleteClient(id_client, account_status) {\n      if (confirm(\"Voulez-vous vraiment supprimer/bannir ce client ?\")) {\n        if(account_status){\n          const token = localStorage.getItem('token');\n          await fetch(this.api_url + \"admin/updateClient/\" + id_client, {\n            method: 'PATCH',\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': token\n            },\n            body: JSON.stringify({\n              account_status: false\n            })\n          });\n        } else {\n        const token = localStorage.getItem('token');\n        await fetch(this.api_url + \"admin/deleteClient/\" + id_client, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': token\n          }});\n        }\n        this.$emit('updateClient');\n      }\n    }\n  },\n}\n</script>\n\n<style>\n#clientListElement {\n  font-size: 1.5vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  width: 80%;\n  justify-content: center;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 2%;\n  background-color: white;\n  border-radius: 10px;\n  padding: 5px;\n  margin-bottom: 10px;\n}\n\n.clientRow {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  align-items: center;\n  width: 100%;\n}\n\n.clientRow span {\n  color: black;\n}\n\n#clientName {\n  color: black;\n  font-size: 1.5em;\n}\n\n#buttons_options {\n  display: flex;\n  margin-left: 90%;\n  color: black;\n}\n\n.but {\n  padding-left: 2mm;\n}\n\n.active-border {\n  border: 3px solid green;\n}\n\n.inactive-border {\n  border: 3px solid red;\n}\n</style>\n","import { render } from \"./ClientsListElement.vue?vue&type=template&id=2f6a5377\"\nimport script from \"./ClientsListElement.vue?vue&type=script&lang=js\"\nexport * from \"./ClientsListElement.vue?vue&type=script&lang=js\"\n\nimport \"./ClientsListElement.vue?vue&type=style&index=0&id=2f6a5377&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AdminClientsView.vue?vue&type=template&id=4378fdb8&scoped=true\"\nimport script from \"./AdminClientsView.vue?vue&type=script&lang=js\"\nexport * from \"./AdminClientsView.vue?vue&type=script&lang=js\"\n\nimport \"./AdminClientsView.vue?vue&type=style&index=0&id=4378fdb8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4378fdb8\"]])\n\nexport default __exports__"],"names":["id","_createElementVNode","class","_createElementBlock","_createVNode","_component_HeaderComponent","_hoisted_1","_component_router_link","to","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","type","placeholder","$data","searchInput","$event","_hoisted_7","_hoisted_8","_Fragment","_renderList","$options","filteredClients","client","_createBlock","_component_clients_list_element","onUpdateClient","_cache","fetchClients","key","_normalizeClass","borderClass","onClick","deleteClient","$props","id_client","account_status","_toDisplayString","nom","prenom","_component_bank_demand_detail","demand","_ctx","name","props","Object","required","computed","this","methods","handleDisplayDetail","alert","async","confirm","token","localStorage","getItem","fetch","api_url","method","headers","body","JSON","stringify","$emit","__exports__","components","HeaderComponent","ClientsListElement","data","clients","searchKeyword","toLowerCase","filter","includes","toString","response","json","mounted","beforeUnmount","console","log","render"],"sourceRoot":""}