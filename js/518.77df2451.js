"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[518],{518:function(e,o,r){r.r(o),r.d(o,{default:function(){return G}});var l=r(3396),s=r(9242);const t={id:"registerMain"},n=(0,l._)("h1",null,"Inscription",-1),a={id:"registerForm"},i={class:"mb-3"},u=(0,l._)("label",{for:"formName",class:"form-label"},"Nom",-1),m={class:"mb-3"},d=(0,l._)("label",{for:"formFirstName",class:"form-label"},"Prénom",-1),f={class:"mb-3"},c=(0,l._)("label",{for:"formEmail",class:"form-label"},"Adresse Email",-1),p={class:"mb-3"},h=(0,l._)("label",{for:"formGenre",class:"form-label"},"Genre",-1),_=(0,l._)("option",{value:""},"Selectionnez votre genre",-1),b=(0,l._)("option",{value:"1"},"homme",-1),y=(0,l._)("option",{value:"2"},"femme",-1),w=(0,l._)("option",{value:"3"},"autre",-1),I=[_,b,y,w],v={class:"mb-3"},g=(0,l._)("label",{for:"formBirthDate",class:"form-label"},"Date de naissance",-1),D={class:"mb-3"},q=(0,l._)("label",{for:"formTelephone",class:"form-label"},"Telephone",-1),U={class:"mb-3"},V=(0,l._)("label",{for:"formCountry",class:"form-label"},"Pays",-1),k={class:"mb-3"},P=(0,l._)("label",{for:"formCity",class:"form-label"},"Ville",-1),C={class:"mb-3"},x=(0,l._)("label",{for:"formAddress",class:"form-label"},"Adresse",-1),E={class:"mb-3"},R=(0,l._)("label",{for:"formHealthDocument",class:"form-label"},"Document de santé",-1),z={class:"mb-3"},N=(0,l._)("label",{for:"formPassword",class:"form-label"},"Mot de passe",-1),S={class:"mb-3"},T=(0,l._)("label",{for:"formRePassword",class:"form-label"},"Confirmez le mot de passe",-1),A={class:"mb-3"},F={id:"registerLinks"};function H(e,o,r,_,b,y){const w=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",t,[n,(0,l._)("form",a,[(0,l._)("div",i,[u,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formName","onUpdate:modelValue":o[0]||(o[0]=e=>b.userInfo.nom=e),required:""},null,512),[[s.nr,b.userInfo.nom]])]),(0,l._)("div",m,[d,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formFirstName","onUpdate:modelValue":o[1]||(o[1]=e=>b.userInfo.prenom=e),required:""},null,512),[[s.nr,b.userInfo.prenom]])]),(0,l._)("div",f,[c,(0,l.wy)((0,l._)("input",{type:"email",class:"form-control",id:"formEmail",placeholder:"name@example.com","onUpdate:modelValue":o[2]||(o[2]=e=>b.userInfo.email=e),required:""},null,512),[[s.nr,b.userInfo.email]])]),(0,l._)("div",p,[h,(0,l.wy)((0,l._)("select",{class:"form-select","aria-label":"Default select example",id:"formGenre","onUpdate:modelValue":o[3]||(o[3]=e=>b.userInfo.genre=e)},I,512),[[s.bM,b.userInfo.genre]])]),(0,l._)("div",v,[g,(0,l.wy)((0,l._)("input",{type:"date",class:"form-control",id:"formBirthDate","onUpdate:modelValue":o[4]||(o[4]=e=>b.userInfo.date_birth=e),required:""},null,512),[[s.nr,b.userInfo.date_birth]])]),(0,l._)("div",D,[q,(0,l.wy)((0,l._)("input",{type:"tel",class:"form-control",id:"formTelephone","onUpdate:modelValue":o[5]||(o[5]=e=>b.userInfo.tel=e),required:""},null,512),[[s.nr,b.userInfo.tel]])]),(0,l._)("div",U,[V,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formCountry","onUpdate:modelValue":o[6]||(o[6]=e=>b.userInfo.pays=e),required:""},null,512),[[s.nr,b.userInfo.pays]])]),(0,l._)("div",k,[P,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formCity","onUpdate:modelValue":o[7]||(o[7]=e=>b.userInfo.ville=e),required:""},null,512),[[s.nr,b.userInfo.ville]])]),(0,l._)("div",C,[x,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formAddress","onUpdate:modelValue":o[8]||(o[8]=e=>b.userInfo.adresse=e),required:""},null,512),[[s.nr,b.userInfo.adresse]])]),(0,l._)("div",E,[R,(0,l._)("input",{type:"file",class:"form-control",id:"formHealthDocument",required:"",onChange:o[9]||(o[9]=e=>y.handleDocumentPlacement(e))},null,32)]),(0,l._)("div",z,[N,(0,l.wy)((0,l._)("input",{type:"password",class:"form-control",id:"formPassword",placeholder:"********","onUpdate:modelValue":o[10]||(o[10]=e=>b.userInfo.password=e),required:""},null,512),[[s.nr,b.userInfo.password]])]),(0,l._)("div",S,[T,(0,l.wy)((0,l._)("input",{type:"password",class:"form-control",id:"formRePassword",placeholder:"********","onUpdate:modelValue":o[11]||(o[11]=e=>b.rePassword=e),required:""},null,512),[[s.nr,b.rePassword]])]),(0,l._)("div",A,[(0,l._)("button",{type:"submit",class:"btn btn-primary",onClick:o[12]||(o[12]=e=>y.handleRegister(e))},"Inscription")])]),(0,l._)("div",F,[(0,l.Wm)(w,{to:"/login"},{default:(0,l.w5)((()=>[(0,l.Uk)("Vous avez déjà un compte ?")])),_:1}),(0,l.Wm)(w,{to:"/register/bank"},{default:(0,l.w5)((()=>[(0,l.Uk)("Vous vous inscrivez en tant que banque ?")])),_:1}),(0,l.Wm)(w,{to:"/"},{default:(0,l.w5)((()=>[(0,l.Uk)("Retour à la page d'accueil")])),_:1})])])}r(7658);var M={data(){return{userInfo:{nom:"",prenom:"",email:"",genre:"",date_birth:"",tel:"",pays:"",ville:"",adresse:"",password:""},healthDocument:null,rePassword:""}},methods:{handleDocumentPlacement(e){this.healthDocument=e.target.files[0]},handleRegister(e){if(""==this.userInfo.nom||""==this.userInfo.prenom||""==this.userInfo.email||""==this.userInfo.genre||""==this.userInfo.date_birth||""==this.userInfo.tel||""==this.userInfo.pays||""==this.userInfo.ville||""==this.userInfo.adresse||""==this.userInfo.password)return void this.$notify({group:"foo",title:"Error",text:"Veuiilez remplir tous les champs",type:"warn"});if(e.preventDefault(),console.log(this.userInfo),this.userInfo.password!==this.rePassword)return void this.$notify({group:"foo",title:"Error",text:"Les mots de passe ne correspondent pas",type:"warn"});fetch(this.api_url+"auth/registerClient",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.userInfo)}).then((e=>e.json())).then((e=>{console.log(e),null!=e.id_client?(localStorage.setItem("token",e.token),this.$router.push("/login")):this.$notify({group:"foo",title:"Error",text:"Une erreur est survenue",type:"warn"})}));let o=new FormData;o.append("file",this.file),o.append("nom_document","Document de santé"),o.append("type","Document médical");let r=new XMLHttpRequest;r.open("POST",this.api_url+"document/addDocument"),r.setRequestHeader("Authorization",localStorage.getItem("token")),r.send(o),r.onload=()=>{200==r.status?console.log("File sent"):console.log("Error while sending file")}}}},$=r(89);const j=(0,$.Z)(M,[["render",H]]);var G=j}}]);
//# sourceMappingURL=518.77df2451.js.map