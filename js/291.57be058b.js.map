{"version":3,"file":"js/291.57be058b.js","mappings":"uLAEQA,EAAAA,EAAAA,GAA+B,UAA3B,0BAAsB,G,GAEjBC,MAAM,Q,GACHD,EAAAA,EAAAA,GAAiG,SAA1FE,IAAI,eAAeD,MAAM,cAAa,gDAA4C,G,kBAG5FA,MAAM,Q,GACHD,EAAAA,EAAAA,GAAsG,SAA/FE,IAAI,iBAAiBD,MAAM,cAAa,mDAA+C,G,4BAMtGD,EAAAA,EAAAA,GAAiC,UAA7B,4BAAwB,G,0EAdpCG,EAAAA,EAAAA,IAkBM,YAjBFC,GACAJ,EAAAA,EAAAA,GAUO,cATHA,EAAAA,EAAAA,GAGM,MAHNK,EAGM,CAFEC,GAAiG,SACjGN,EAAAA,EAAAA,GAAkK,SAA3JO,KAAK,WAAWN,MAAM,eAAeO,GAAG,e,qCAAwBC,EAAAC,SAAQC,GAAEC,YAAY,wCAAwCC,SAAA,GAAUC,SAAUL,EAAAM,S,iBAAlFN,EAAAC,eAE/EV,EAAAA,EAAAA,GAGM,MAHNgB,EAGM,CAFEC,GAAsG,SACtGjB,EAAAA,EAAAA,GAAqK,SAA9JO,KAAK,WAAWN,MAAM,eAAeO,GAAG,iB,qCAA0BC,EAAAS,WAAUP,GAAEC,YAAY,uCAAuCC,SAAA,GAAUC,SAAUL,EAAAM,S,iBAAnFN,EAAAS,gBAEIT,EAAAM,SAAgB,iBAAT,WAA5FZ,EAAAA,EAAAA,IAA8G,U,MAAtGI,KAAK,SAASN,MAAM,kBAAmBkB,QAAKC,EAAA,KAAAA,EAAA,GAAGC,GAAKC,EAAAC,aAAaF,KAAqB,cAEvFZ,EAAAM,UAAO,WAAlBZ,EAAAA,EAAAA,IAIM,MAAAqB,EAAA,CAHFC,GACAC,EAAAA,EAAAA,IAA2EC,EAAA,CAA9DC,GAAG,iBAAe,C,kBAAC,IAA6B,UAA7B,oC,OAChCF,EAAAA,EAAAA,IAA4DC,EAAA,CAA/CC,GAAG,KAAG,C,kBAAC,IAA0B,UAA1B,iC,2BAMhC,OACIC,OACI,MAAO,CACHnB,SAAU,GACVQ,WAAY,GACZH,SAAS,EAEjB,EACAe,QAAS,CACLP,aAAaF,GAEW,IAAjBU,KAAKrB,UAAqC,IAAnBqB,KAAKb,aAI/BG,EAAGW,iBAEAD,KAAKrB,UAAYqB,KAAKb,WASzBe,MAAMF,KAAKG,QAAU,qBAAqBH,KAAKI,OAAOC,OAAOC,MAAM,CAC/DC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CAACL,MAAON,KAAKI,OAAOC,OAAOC,MAAO3B,SAAUqB,KAAKrB,aAEzEiC,MAAKC,IACF,GAAiB,KAAdA,EAAIC,OACH,OAAOD,EAAIE,OAEX,MAAM,IAAIC,MAAM,0BACpB,IAEHJ,MAAKd,IACFmB,QAAQC,IAAIpB,GACZE,KAAKhB,SAAU,EACfgB,KAAKmB,QAAQ,CACTC,MAAO,SACPC,KAAM,mCACN7C,KAAM,WACR,IAEL8C,OAAMC,IACHN,QAAQC,IAAIK,GACZvB,KAAKmB,QAAQ,CACTC,MAAO,SACPC,KAAM,0BACN7C,KAAM,SACR,IArCFwB,KAAKmB,QAAQ,CACTC,MAAO,SACPC,KAAM,yCACN7C,KAAM,UAoClB,I,QC3ER,MAAMgD,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://front/./src/views/ClientRecoveryFormView.vue","webpack://front/./src/views/ClientRecoveryFormView.vue?93bd"],"sourcesContent":["<template>\n    <div>\n        <h1> Nouveau mot de passe </h1>\n        <form>\n            <div class=\"mb-3\">\n                    <label for=\"formPassword\" class=\"form-label\">Veuillez entrer votre nouveau mot de passe :</label>\n                    <input type=\"password\" class=\"form-control\" id=\"formPassword\" v-model=\"password\" placeholder=\"Renseignez votre nouveau mot de passe\" required :disabled=\"success\">\n            </div>\n            <div class=\"mb-3\">\n                    <label for=\"formRePassword\" class=\"form-label\">Veuillez confirmer votre nouveau mot de passe :</label>\n                    <input type=\"password\" class=\"form-control\" id=\"formRePassword\" v-model=\"repassword\" placeholder=\"Confirmez votre nouveau mot de passe\" required :disabled=\"success\">\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary\" @click=\"(ev)=>handleSubmit(ev)\" v-if=\"!success\">Envoyer</button>\n        </form>\n        <div v-if=\"success\">\n            <h2>Votre mail a été modifié</h2>\n            <router-link to=\"/login/client\">Retour à la page de connexion</router-link>\n            <router-link to=\"/\">Retour à la page d'accueil</router-link>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            password: '',\n            repassword: '',\n            success: false,\n        }\n    },\n    methods: {\n        handleSubmit(ev) {\n            \n            if(this.password == '' || this.repassword == '') {\n                return;\n            }\n\n            ev.preventDefault();\n\n            if(this.password != this.repassword) {\n                this.$notify({\n                    title: 'Erreur',\n                    text: 'Les mots de passe ne correspondent pas',\n                    type: 'error'\n                });\n                return;\n            }\n\n            fetch(this.api_url + 'auth/verifyClient/'+this.$route.params.token,{\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({token: this.$route.params.token, password: this.password})\n            })\n            .then(res => {\n                if(res.status == 200) {\n                    return res.json();\n                } else {\n                    throw new Error('Une erreur est survenue');\n                }\n            })\n            .then(data => {\n                console.log(data);\n                this.success = true;\n                this.$notify({\n                    title: 'Succès',\n                    text: 'Votre mot de passe a été modifié',\n                    type: 'success'\n                });\n            })\n            .catch(err => {\n                console.log(err);\n                this.$notify({\n                    title: 'Erreur',\n                    text: 'Une erreur est survenue',\n                    type: 'error'\n                });\n            })\n        }\n    }\n}\n</script>\n\n<style>\n\n</style>","import { render } from \"./ClientRecoveryFormView.vue?vue&type=template&id=3d134f4e\"\nimport script from \"./ClientRecoveryFormView.vue?vue&type=script&lang=js\"\nexport * from \"./ClientRecoveryFormView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","for","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","type","id","$data","password","$event","placeholder","required","disabled","success","_hoisted_5","_hoisted_6","repassword","onClick","_cache","ev","$options","handleSubmit","_hoisted_8","_hoisted_9","_createVNode","_component_router_link","to","data","methods","this","preventDefault","fetch","api_url","$route","params","token","method","headers","body","JSON","stringify","then","res","status","json","Error","console","log","$notify","title","text","catch","err","__exports__","render"],"sourceRoot":""}