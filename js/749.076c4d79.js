"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[749],{6749:function(e,a,n){n.r(a),n.d(a,{default:function(){return D}});var t=n(3396);const s=(0,t._)("h1",null,"Admin Home Page",-1),i={id:"main-body"},l=(0,t._)("h3",null,"Liste des banques :",-1),o={id:"banks-overview-area",class:"section-list"},r=(0,t._)("div",{id:"banks-area-header"},[(0,t._)("div",{id:"research-input",class:"input-group flex-nowrap"},[(0,t._)("input",{type:"text",class:"form-control",placeholder:"Recherche","aria-label":"Recherche","aria-describedby":"addon-wrapping"})])],-1),d={id:"banks-list-container"},u={id:"banks-list",class:"section-list"};function c(e,a,n,c,k,h){const b=(0,t.up)("HeaderComponent"),p=(0,t.up)("banks-list-element");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",null,[s,(0,t.Wm)(b)]),(0,t._)("div",i,[l,(0,t._)("div",o,[r,(0,t._)("div",d,[(0,t._)("ul",u,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(k.banks,(e=>((0,t.wg)(),(0,t.j4)(p,{onUpdateBank:a[0]||(a[0]=e=>h.fetchBanks()),key:e.id,bank:e},null,8,["bank"])))),128))])])])])])}var k=n(7139);const h={id:"buttons_options"},b={key:0},p={id:"bankTitle"},m={class:"bankRow"},_={class:"bankRow"},v={class:"bankRow"};function w(e,a,n,s,i,l){return(0,t.wg)(),(0,t.iD)("div",{id:"bankListElement",class:(0,k.C_)(l.borderClass)},[(0,t._)("div",h,[(0,t._)("span",null,[(0,t._)("p",{id:"delete",class:"but",onClick:a[0]||(a[0]=e=>this.deleteBank(n.bank.id_banque))},"x")]),n.bank.account_status?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("span",b,[(0,t._)("p",{id:"valid",class:"but",onClick:a[1]||(a[1]=e=>this.validateBank(n.bank.id_banque))},"+")]))]),(0,t._)("span",p,(0,k.zw)(n.bank.nom_banque),1),(0,t._)("div",m,[(0,t._)("span",null," Siret : "+(0,k.zw)(n.bank.siret),1)]),(0,t._)("div",_,[(0,t._)("span",null," Pays : "+(0,k.zw)(n.bank.pays),1),(0,t.Uk)(),(0,t._)("span",null," Ville : "+(0,k.zw)(n.bank.ville),1),(0,t.Uk)(),(0,t._)("span",null," Address : "+(0,k.zw)(n.bank.adresse),1)]),(0,t._)("div",v,[(0,t._)("span",null," Email : "+(0,k.zw)(n.bank.email),1),(0,t._)("span",null," Telephone : "+(0,k.zw)(n.bank.tel),1)])],2)}var f={name:"banksListElement",props:{bank:{type:Object,required:!0}},computed:{borderClass(){return this.bank.account_status?"active-border":this.bank.account_status?"":"inactive-border"}},methods:{handleDisplayDetail(){alert("WIP")},async deleteBank(e){if(confirm("Voulez-vous vraiment supprimer cette banque ?")){const a=localStorage.getItem("token");await fetch(this.api_url+"admin/deleteBanque/"+e,{method:"DELETE",headers:{authorization:a}}),this.$emit("updateBank")}},async validateBank(e){if(confirm("Voulez-vous vraiment valider cette banque ?")){const a=localStorage.getItem("token");await fetch(this.api_url+"admin/validateBanque/"+e,{method:"PUT",headers:{authorization:a}}),this.$emit("updateBank")}}}},g=n(89);const B=(0,g.Z)(f,[["render",w]]);var y=B,z=n(7275),q={name:"BankHomeView",components:{HeaderComponent:z.Z,BanksListElement:y},data(){return{banks:[],searchInput:""}},watch:{searchInput(e){console.log(e),this.performSearch()}},methods:{async fetchBanks(){const e=localStorage.getItem("token"),a=await fetch(this.api_url+"admin/getAllBanques",{headers:{authorization:e}}),n=await a.json();console.log(n),this.banks=n},performSearch(){this.displayedDemands=this.userDemands.filter((e=>e.sujet.toLowerCase().includes(this.searchInput.toLowerCase())))}},mounted(){console.log("Mounted"),this.fetchBanks()},beforeUnmount(){console.log("Unmounted")}};const C=(0,g.Z)(q,[["render",c]]);var D=C}}]);
//# sourceMappingURL=749.076c4d79.js.map