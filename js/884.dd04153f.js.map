{"version":3,"file":"js/884.dd04153f.js","mappings":"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","sources":["webpack://front/./src/views/ClientRegisterView.vue","webpack://front/./src/views/ClientRegisterView.vue?63a7"],"sourcesContent":["<template>\n    <div>\n        <h1>This is a register page</h1>\n\n        <form id=\"registerForm\">\n\n            <div class=\"mb-3\">\n                <label for=\"formName\" class=\"form-label\">Nom</label>\n                <input type=\"text\" class=\"form-control\" id=\"formName\" v-model=\"userInfo.nom\" required/>\n            </div>\n\n            <div class=\"mb-3\">\n                <label for=\"formFirstName\" class=\"form-label\">Prénom</label>\n                <input type=\"text\" class=\"form-control\" id=\"formFirstName\" v-model=\"userInfo.prenom\" required/>\n            </div>\n\n            <div class=\"mb-3\">\n                <label for=\"formEmail\" class=\"form-label\">Adresse Email</label>\n                <input type=\"email\" class=\"form-control\" id=\"formEmail\" placeholder=\"name@example.com\" v-model=\"userInfo.email\" required/>\n            </div>\n\n            <div class=\"mb-3\">\n                <label for=\"formGenre\" class=\"form-label\">Genre</label>\n                <select class=\"form-select\" aria-label=\"Default select example\" id=\"formGenre\" v-model=\"userInfo.genre\">\n                    <option value=\"\">Selectionnez votre genre</option>\n                    <option value=\"1\">homme</option>\n                    <option value=\"2\">femme</option>\n                    <option value=\"3\">autre</option>\n                </select>\n            </div>\n\n            <div class=\"mb-3\">\n                <label for=\"formBirthDate\" class=\"form-label\">Date de naissance</label>\n                <input type=\"date\" class=\"form-control\" id=\"formBirthDate\" v-model=\"userInfo.date_birth\" required/>\n            </div>\n\n            <div class=\"mb-3\">\n                <label for=\"formTelephone\" class=\"form-label\">Telephone</label>\n                <input type=\"tel\" class=\"form-control\" id=\"formTelephone\" v-model=\"userInfo.tel\" required/>\n            </div>\n            <div class=\"mb-3\">\n                <label for=\"formCountry\" class=\"form-label\">Pays</label>\n                <input type=\"text\" class=\"form-control\" id=\"formCountry\" v-model=\"userInfo.pays\" required/>\n            </div>\n            <div class=\"mb-3\">\n                <label for=\"formCity\" class=\"form-label\">Ville</label>\n                <input type=\"text\" class=\"form-control\" id=\"formCity\" v-model=\"userInfo.ville\" required/>\n            </div>\n            <div class=\"mb-3\">\n                <label for=\"formAddress\" class=\"form-label\">Adresse</label>\n                <input type=\"text\" class=\"form-control\" id=\"formAddress\" v-model=\"userInfo.adresse\" required/>\n            </div>\n            <div class=\"mb-3\">\n                <label for=\"formHealthDocument\" class=\"form-label\">Document de santé</label>\n                <input type=\"file\" class=\"form-control\" id=\"formHealthDocument\" required @change=\"(ev)=>handleDocumentPlacement(ev)\" />\n            </div>\n\n            <div class=\"mb-3\">\n                <label for=\"formPassword\" class=\"form-label\">Mot de passe</label>\n                <input type=\"password\" class=\"form-control\" id=\"formPassword\" placeholder=\"********\" v-model=\"userInfo.password\" required>\n            </div>\n\n            <div class=\"mb-3\">\n                <label for=\"formRePassword\" class=\"form-label\">Confirmez le mot de passe</label>\n                <input type=\"password\" class=\"form-control\" id=\"formRePassword\" placeholder=\"********\" v-model=\"rePassword\" required>\n            </div>\n\n            <div class=\"mb-3\">\n                <button type=\"submit\" class=\"btn btn-primary\" @click=\"(ev)=>handleRegister(ev)\">Register</button>\n            </div>\n\n        </form>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            userInfo: {\n                nom: '',\n                prenom: '',\n                email: '',\n                genre: '',\n                date_birth: '',\n                tel: '',\n                pays: '',\n                ville: '',\n                adresse: '',\n                password: ''\n            },\n            healthDocument: null,\n            rePassword: ''\n        }\n    },\n    methods: {\n        handleDocumentPlacement(ev) {\n            this.healthDocument = ev.target.files[0];\n        },\n        handleRegister(ev) {\n\n            if(this.userInfo.nom == '' || this.userInfo.prenom == '' || this.userInfo.email == '' || this.userInfo.genre == '' || this.userInfo.date_birth == '' || this.userInfo.tel == '' || this.userInfo.pays == '' || this.userInfo.ville == '' || this.userInfo.adresse == '' || this.userInfo.password == '') {\n                alert('Please fill all the fields');\n                return;\n            }\n\n            ev.preventDefault();\n            console.log(this.userInfo);\n            if(this.userInfo.password !== this.rePassword) {\n                alert('Password not match');\n                return;\n            }\n            fetch(this.api_url + 'auth/registerClient', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(this.userInfo)\n            })\n            .then(res => res.json())\n            .then(data => {\n                console.log(data);\n                if(data.id_client != null) {\n                    localStorage.setItem('token', data.token);\n                    this.$router.push('/login');\n                } else {\n                    alert('Register failed');\n                }\n            })\n\n            //We send the file with a XMLHttpRequest\n            let formData = new FormData();\n            formData.append('file', this.file);\n            formData.append('nom_document', \"Document de santé\");\n            \n            let xhr = new XMLHttpRequest();\n            xhr.open('POST', this.api_url + 'document/addDocument');\n            xhr.setRequestHeader('Authorization', localStorage.getItem('token'));\n            xhr.send(formData);\n            xhr.onload = () => {\n                if(xhr.status == 200){\n                    console.log(\"File sent\");\n                }\n                else{\n                    console.log(\"Error while sending file\");\n                }\n            }\n\n        }\n    }\n}\n</script>\n\n<style>\n\n    #registerForm {\n        width: 30%;\n        margin: auto;\n        margin-top: 2vw;\n        height: 80vh;\n        overflow-y : scroll;\n        background-color: #d9d9d9;\n        border-radius: 10px;\n        color: black;\n    }\n\n</style>","import { render } from \"./ClientRegisterView.vue?vue&type=template&id=210e5cd0\"\nimport script from \"./ClientRegisterView.vue?vue&type=script&lang=js\"\nexport * from \"./ClientRegisterView.vue?vue&type=script&lang=js\"\n\nimport \"./ClientRegisterView.vue?vue&type=style&index=0&id=210e5cd0&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","id","class","for","value","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","type","$data","userInfo","nom","$event","required","_hoisted_5","_hoisted_6","prenom","_hoisted_7","_hoisted_8","placeholder","email","_hoisted_9","_hoisted_10","genre","_hoisted_16","_hoisted_17","date_birth","_hoisted_18","_hoisted_19","tel","_hoisted_20","_hoisted_21","pays","_hoisted_22","_hoisted_23","ville","_hoisted_24","_hoisted_25","adresse","_hoisted_26","_hoisted_27","onChange","_cache","ev","$options","handleDocumentPlacement","_hoisted_28","_hoisted_29","password","_hoisted_30","_hoisted_31","rePassword","_hoisted_32","onClick","handleRegister","data","healthDocument","methods","this","target","files","alert","preventDefault","console","log","fetch","api_url","method","headers","body","JSON","stringify","then","res","json","id_client","localStorage","setItem","token","$router","push","formData","FormData","append","file","xhr","XMLHttpRequest","open","setRequestHeader","getItem","send","onload","status","__exports__","render"],"sourceRoot":""}