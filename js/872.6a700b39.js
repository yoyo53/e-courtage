"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[872],{5872:function(e,s,r){r.r(s),r.d(s,{default:function(){return k}});var o=r(3396),t=r(9242);const a=e=>((0,o.dD)("data-v-2ccef9da"),e=e(),(0,o.Cn)(),e),n={id:"recoveryFormMain"},d=a((()=>(0,o._)("h1",null," Nouveau mot de passe ",-1))),l={class:"mb-3"},i=a((()=>(0,o._)("label",{for:"formPassword",class:"form-label"},"Veuillez entrer votre nouveau mot de passe :",-1))),u=["disabled"],c={class:"mb-3"},p=a((()=>(0,o._)("label",{for:"formRePassword",class:"form-label"},"Veuillez confirmer votre nouveau mot de passe :",-1))),m=["disabled"],f={key:0},w=a((()=>(0,o._)("h2",null,"Votre mail a été modifié",-1)));function h(e,s,r,a,h,v){const b=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",n,[d,(0,o._)("form",null,[(0,o._)("div",l,[i,(0,o.wy)((0,o._)("input",{type:"password",class:"form-control",id:"formPassword","onUpdate:modelValue":s[0]||(s[0]=e=>h.password=e),placeholder:"Renseignez votre nouveau mot de passe",required:"",disabled:h.success},null,8,u),[[t.nr,h.password]])]),(0,o._)("div",c,[p,(0,o.wy)((0,o._)("input",{type:"password",class:"form-control",id:"formRePassword","onUpdate:modelValue":s[1]||(s[1]=e=>h.repassword=e),placeholder:"Confirmez votre nouveau mot de passe",required:"",disabled:h.success},null,8,m),[[t.nr,h.repassword]])]),h.success?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:0,type:"submit",class:"btn btn-primary",onClick:s[2]||(s[2]=e=>v.handleSubmit(e))},"Envoyer"))]),h.success?((0,o.wg)(),(0,o.iD)("div",f,[w,(0,o.Wm)(b,{to:"/login/client"},{default:(0,o.w5)((()=>[(0,o.Uk)("Retour à la page de connexion")])),_:1}),(0,o.Wm)(b,{to:"/"},{default:(0,o.w5)((()=>[(0,o.Uk)("Retour à la page d'accueil")])),_:1})])):(0,o.kq)("",!0)])}var v={data(){return{password:"",repassword:"",success:!1}},methods:{handleSubmit(e){""!=this.password&&""!=this.repassword&&(e.preventDefault(),this.password==this.repassword?fetch(this.api_url+"client/recuperationPassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:this.$route.params.token,password:this.password})}).then((e=>{if(200==e.status)return e.json();throw new Error("Une erreur est survenue")})).then((e=>{console.log(e),this.success=!0,this.$notify({title:"Succès",text:"Votre mot de passe a été modifié",type:"success"})})).catch((e=>{console.log(e),this.$notify({title:"Erreur",text:"Une erreur est survenue",type:"error"})})):this.$notify({title:"Erreur",text:"Les mots de passe ne correspondent pas",type:"error"}))}}},b=r(89);const y=(0,b.Z)(v,[["render",h],["__scopeId","data-v-2ccef9da"]]);var k=y}}]);
//# sourceMappingURL=872.6a700b39.js.map