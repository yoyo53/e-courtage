"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[728],{5728:function(e,n,t){t.r(n),t.d(n,{default:function(){return At}});var l=t(3396),a=t(9242);const o={id:"main-body"},i={id:"body-left"},s={id:"profile-overview-area"},r=(0,l._)("h2",null,"Votre profil :",-1),u={id:"profile-list",class:"section-list"},m={class:"profile-item"},d=(0,l._)("span",null,"Nom :",-1),p={class:"profile-item"},c=(0,l._)("span",null,"Prénom :",-1),f={class:"profile-item"},h=(0,l._)("span",null,"Date de Naissance :",-1),b={class:"profile-item"},v=(0,l._)("span",null,"Numéro de téléphone :",-1),_={class:"profile-item"},D=(0,l._)("span",null,"Adresse mail :",-1),w={class:"profile-item"},y=(0,l._)("span",null,"Profession :",-1),g={class:"profile-item"},C={id:"notifications-view-area"},A=(0,l._)("h2",null,"Vos notifications :",-1),V={id:"notifications-list",class:"section-list"},F={id:"body-right"},U={id:"demands-overview-area"},z=(0,l._)("h2",null,"Liste de vos demandes en cours :",-1),k={id:"demands-list",class:"section-list"},x={id:"add-demand-area"};function q(e,n,t,q,j,N){const E=(0,l.up)("HeaderComponent"),R=(0,l.up)("client-file-list"),S=(0,l.up)("router-link"),T=(0,l.up)("client-notification-list-element"),M=(0,l.up)("client-demands-list-element"),$=(0,l.up)("ClientDemandForm");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(E),(0,l._)("div",o,[(0,l._)("div",i,[(0,l._)("div",s,[r,(0,l._)("ul",u,[(0,l._)("li",m,[d,(0,l.Uk)(),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>j.userData.name=e)},null,512),[[a.nr,j.userData.name]])]),(0,l._)("li",p,[c,(0,l.Uk)(),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":n[1]||(n[1]=e=>j.userData.firstname=e)},null,512),[[a.nr,j.userData.firstname]])]),(0,l._)("li",f,[h,(0,l.Uk)(),(0,l.wy)((0,l._)("input",{type:"date","onUpdate:modelValue":n[2]||(n[2]=e=>j.userData.birthdate=e)},null,512),[[a.nr,j.userData.birthdate]])]),(0,l._)("li",b,[v,(0,l.Uk)(),(0,l.wy)((0,l._)("input",{type:"tel","onUpdate:modelValue":n[3]||(n[3]=e=>j.userData.phone=e)},null,512),[[a.nr,j.userData.phone]])]),(0,l._)("li",_,[D,(0,l.Uk)(),(0,l.wy)((0,l._)("input",{type:"email","onUpdate:modelValue":n[4]||(n[4]=e=>j.userData.email=e)},null,512),[[a.nr,j.userData.email]])]),(0,l._)("li",w,[y,(0,l.Uk)(),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":n[5]||(n[5]=e=>j.userData.occupation=e)},null,512),[[a.nr,j.userData.occupation]])]),(0,l._)("li",g,[(0,l.Wm)(R),(0,l.Wm)(S,{class:"btn btn-primary",to:"/client/profile"},{default:(0,l.w5)((()=>[(0,l.Uk)("Votre profil")])),_:1})])])]),(0,l._)("div",C,[A,(0,l._)("ul",V,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(j.userNotifications,(e=>((0,l.wg)(),(0,l.j4)(T,{key:e.id,notification:e},null,8,["notification"])))),128))])])]),(0,l._)("div",F,[(0,l._)("div",U,[z,(0,l._)("ul",k,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(j.userDemands,(e=>((0,l.wg)(),(0,l.j4)(M,{key:e.id,demand:e},null,8,["demand"])))),128))])]),(0,l._)("div",x,[(0,l.Wm)($,{id:"demand-form"})])])])])}const j={key:0,id:"modal-form",ref:"modalForm"},N=(0,l._)("h2",null,"Nouvelle demande",-1),E={id:"form"},R={class:"mb-3"},S=(0,l._)("label",{for:"formSubject",class:"form-label"},"Sujet",-1),T={class:"mb-3"},M=(0,l._)("label",{for:"formNature",class:"form-label"},"Nature du projet ?",-1),$=(0,l.uE)('<option value="">Choisissez la nature de votre projet</option><option value="Achat">Achat</option><option value="Construction">Construction</option><option value="Travaux">Travaux</option><option value="Autre">Autre</option>',5),L=[$],B={class:"mb-3"},O=(0,l._)("label",{for:"formType",class:"form-label"},"Type de bien ?",-1),P=(0,l.uE)('<option value="">Choisissez le type du bien</option><option value="Maison">Maison</option><option value="Appartement">Appartement</option><option value="Terrain">Terrain</option><option value="Autre">Autre</option>',5),H=[P],W={class:"mb-3"},Z=(0,l._)("label",{for:"formAge",class:"form-label"},"Age du bien ?",-1),I=(0,l._)("option",{value:""},"Choisissez l'âge du bien",-1),G=(0,l._)("option",{value:"Ancien"},"Ancien",-1),K=(0,l._)("option",{value:"Neuf"},"Neuf",-1),X=(0,l._)("option",{value:"Vente sur plan"},"Vente sur plan",-1),Y=[I,G,K,X],J={class:"mb-3"},Q=(0,l._)("label",{for:"formPurpose",class:"form-label"},"Usage du bien ?",-1),ee=(0,l.uE)('<option value="">Choisissez l&#39;usage du bien</option><option value="Résidence principale">Résidence principale</option><option value="Résidence secondaire">Résidence secondaire</option><option value="Investissement locatif">Investissement locatif</option><option value="Usage professionnel">Usage professionnel</option><option value="Usage mixte">Usage mixte</option><option value="Autre">Autre</option>',7),ne=[ee],te={class:"mb-3"},le=(0,l._)("label",{for:"formResearchStatus",class:"form-label"},"Ou en êtes vous dans votre recherche ?",-1),ae=(0,l.uE)('<option value="">Renseigner où vous en êtes dans votre recherche</option><option value="En recherche">En recherche</option><option value="Vous vous préparez à faire une offre">Vous vous préparez à faire une offre</option><option value="Vous avez déjà fait une offre">Vous avez déjà fait une offre</option><option value="Vous pensez bientôt signer compromi">Vous pensez bientôt signer compromis</option><option value="Vous avez déjà signé un compromis">Vous avez déjà signé un compromis</option><option value="Autre">Autre</option>',7),oe=[ae],ie={class:"mb-3"},se=(0,l._)("label",{for:"formCountry",class:"form-label"},"Dans quel pays se situe le bien ?",-1),re={class:"mb-3"},ue=(0,l._)("label",{for:"formCity",class:"form-label"},"Dans quelle ville se situe le bien ?",-1),me={class:"mb-3"},de=(0,l._)("label",{for:"formAcquisitionAmount",class:"form-label"},"Montant estimé de l'acquisition ?",-1),pe={class:"mb-3"},ce=(0,l._)("label",{for:"formTravauxAmount",class:"form-label"},"Montant estimé des travaux ?",-1),fe={class:"mb-3"},he=(0,l._)("label",{for:"formNotaireAmount",class:"form-label"},"Frais de notaire ? (optionnel)",-1),be={class:"mb-3"},ve=(0,l._)("label",{for:"formAloneGroup",class:"form-label"},"Comment empruntez-vous ?",-1),_e=(0,l._)("option",{value:""},"Vous empruntez seul ? En groupe ? ",-1),De=(0,l._)("option",{value:"1"},"Seul",-1),we=(0,l._)("option",{value:"2"},"Avec un co-emprunteur",-1),ye=(0,l._)("option",{value:"3"},"Autre",-1),ge=[_e,De,we,ye],Ce={class:"mb-3"},Ae=(0,l._)("label",{for:"formApport",class:"form-label"},"Votre apport personnel ?",-1),Ve={class:"mb-3"},Fe=(0,l._)("label",{for:"formComment",class:"form-label"},"Commentaires sur le projet ? (optionnel)",-1),Ue={class:"mb-3"},ze=(0,l._)("label",{for:"formFileMultiple",class:"form-label"},"Vos Fichiers",-1);function ke(e,n,t,o,i,s){const r=(0,l.up)("ClientFileListCheckableElement"),u=(0,l.up)("client-new-file-form");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("button",{id:"openButton",onClick:n[0]||(n[0]=()=>s.handleDisplay())},"NOUVELLE DEMANDE"),i.displayForm?((0,l.wg)(),(0,l.iD)("div",j,[(0,l._)("button",{id:"closeButton",onClick:n[1]||(n[1]=()=>s.handleDisplay())},"X"),N,(0,l._)("form",E,[(0,l._)("div",R,[S,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formSubject","onUpdate:modelValue":n[2]||(n[2]=e=>i.newDemand.sujet=e),placeholder:"Trouvez un titre pour votre demande",required:""},null,512),[[a.nr,i.newDemand.sujet]])]),(0,l._)("div",T,[M,(0,l.wy)((0,l._)("select",{class:"form-select","aria-label":"Default select example",id:"formNature","onUpdate:modelValue":n[3]||(n[3]=e=>i.newDemand.nature=e),required:""},L,512),[[a.bM,i.newDemand.nature]])]),(0,l._)("div",B,[O,(0,l.wy)((0,l._)("select",{class:"form-select","aria-label":"Default select example",id:"formType","onUpdate:modelValue":n[4]||(n[4]=e=>i.newDemand.type=e),required:""},H,512),[[a.bM,i.newDemand.type]])]),(0,l._)("div",W,[Z,(0,l.wy)((0,l._)("select",{class:"form-select","aria-label":"Default select example",id:"formAge","onUpdate:modelValue":n[5]||(n[5]=e=>i.newDemand.age=e),required:""},Y,512),[[a.bM,i.newDemand.age]])]),(0,l._)("div",J,[Q,(0,l.wy)((0,l._)("select",{class:"form-select","aria-label":"Default select example",id:"formPurpose","onUpdate:modelValue":n[6]||(n[6]=e=>i.newDemand.usage=e),required:""},ne,512),[[a.bM,i.newDemand.usage]])]),(0,l._)("div",te,[le,(0,l.wy)((0,l._)("select",{class:"form-select","aria-label":"Default select example",id:"formResearchStatus","onUpdate:modelValue":n[7]||(n[7]=e=>i.newDemand.status_recherche=e),required:""},oe,512),[[a.bM,i.newDemand.status_recherche]])]),(0,l._)("div",ie,[se,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formCountry","onUpdate:modelValue":n[8]||(n[8]=e=>i.newDemand.pays=e),placeholder:"Renseignez le pays où se situe le bien",required:""},null,512),[[a.nr,i.newDemand.pays]])]),(0,l._)("div",re,[ue,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formCity","onUpdate:modelValue":n[9]||(n[9]=e=>i.newDemand.ville=e),placeholder:"Renseignez la ville où se situe le bien",required:""},null,512),[[a.nr,i.newDemand.ville]])]),(0,l._)("div",me,[de,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formAcquisitionAmount","onUpdate:modelValue":n[10]||(n[10]=e=>i.newDemand.montant_bien=e),placeholder:"Renseignez la valeur estimée du bien",required:""},null,512),[[a.nr,i.newDemand.montant_bien]])]),(0,l._)("div",pe,[ce,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formTravauxAmount","onUpdate:modelValue":n[11]||(n[11]=e=>i.newDemand.montant_travaux=e),placeholder:"Renseignez la valeur estimée des travaux",required:""},null,512),[[a.nr,i.newDemand.montant_travaux]])]),(0,l._)("div",fe,[he,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formNotaireAmount","onUpdate:modelValue":n[12]||(n[12]=e=>i.newDemand.frais_notaire=e),placeholder:"Renseignez les frais de notaires, si il y a"},null,512),[[a.nr,i.newDemand.frais_notaire]])]),(0,l._)("div",be,[ve,(0,l.wy)((0,l._)("select",{class:"form-select","aria-label":"Default select example",id:"formAloneGroup","onUpdate:modelValue":n[13]||(n[13]=e=>i.newDemand.accompagnement=e),required:""},ge,512),[[a.bM,i.newDemand.accompagnement]])]),(0,l._)("div",Ce,[Ae,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formApport","onUpdate:modelValue":n[14]||(n[14]=e=>i.newDemand.apport_personnel=e),placeholder:"Renseignez votre apport dans l'acquisition",required:""},null,512),[[a.nr,i.newDemand.apport_personnel]])]),(0,l._)("div",Ve,[Fe,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formComment","onUpdate:modelValue":n[15]||(n[15]=e=>i.newDemand.commentaire=e),placeholder:"Vous pouvez ajouter tout détail que vous pensez significant"},null,512),[[a.nr,i.newDemand.commentaire]])]),(0,l._)("div",Ue,[ze,(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.userFiles,(e=>((0,l.wg)(),(0,l.j4)(r,{key:e.name,file:e},null,8,["file"])))),128))]),(0,l.Wm)(u)]),(0,l._)("button",{type:"submit",class:"btn btn-primary",onClick:n[16]||(n[16]=e=>s.handleSubmit(e))},"Envoyer")])],512)):(0,l.kq)("",!0)])}t(7658);var xe=t(7139);const qe=["id","name"],je=["for"],Ne=(0,l._)("br",null,null,-1);function Ee(e,n,t,a,o,i){return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("input",{type:"checkbox",id:t.file.id,ref:t.file.id,name:t.file.id,value:"Bike",onChange:n[0]||(n[0]=e=>i.handleAddFile(e))},null,40,qe),(0,l._)("label",{for:t.file.id},(0,xe.zw)(t.file.name),9,je),Ne])}var Re={name:"ClientFileListCheckableElement",props:{file:{type:Object,required:!0}},methods:{handleAddFile(e){e.target.checked?this.$parent.newDemand.files.push(this.file.id):this.$parent.newDemand.files=this.$parent.files.filter((e=>e!==this.file.id)),console.log(this.$parent.newDemand.files)}},updated(){void 0==this.$parent.newDemand.files&&(this.$parent.newDemand.files=[]),this.$parent.newDemand.files.includes(this.file.id)?this.$refs[this.file.id].checked=!0:this.$refs[this.file.id].checked=!1},mounted(){void 0==this.$parent.newDemand.files&&(this.$parent.newDemand.files=[]),this.$parent.newDemand.files.includes(this.file.id)?this.$refs[this.file.id].checked=!0:this.$refs[this.file.id].checked=!1}},Se=t(89);const Te=(0,Se.Z)(Re,[["render",Ee]]);var Me=Te;const $e={key:0,id:"modal-form",ref:"modalForm"},Le=(0,l._)("h2",null,"Nouveau document",-1),Be={class:"mb-3"},Oe=(0,l._)("label",{for:"formFile",class:"form-label"},"Votre fichier",-1),Pe={class:"mb-3"},He=(0,l._)("label",{for:"formNameTitle",class:"form-label"},"Nom du fichier",-1);function We(e,n,t,o,i,s){return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("button",{type:"none",id:"openNFButton",onClick:n[0]||(n[0]=()=>s.handleDisplay())},"NOUVEAU DOCUMENT"),i.displayForm?((0,l.wg)(),(0,l.iD)("div",$e,[(0,l._)("button",{id:"closeButton",onClick:n[1]||(n[1]=()=>s.handleDisplay())},"X"),Le,(0,l._)("form",null,[(0,l._)("div",Be,[Oe,(0,l._)("input",{class:"form-control",type:"file",id:"formFile",onChange:n[2]||(n[2]=e=>s.onFilesChange(e)),required:""},null,32)]),(0,l._)("div",Pe,[He,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formNameTitle","onUpdate:modelValue":n[3]||(n[3]=e=>i.name=e),required:""},null,512),[[a.nr,i.name]])]),(0,l._)("button",{type:"submit",class:"btn btn-success",onClick:n[4]||(n[4]=e=>s.handleSubmit(e))},"Envoyer"),(0,l._)("button",{type:"none",class:"btn btn-warning",onClick:n[5]||(n[5]=()=>s.handleDisplay())},"Annuler")])],512)):(0,l.kq)("",!0)])}var Ze={name:"ClientNewFileForm",data(){return{name:"",file:null,displayForm:!1}},methods:{onFilesChange(e){this.file=e.target.files[0]},handleSubmit(e){""!=this.name&&null!=this.file&&(e.preventDefault(),this.$parent.userFiles.push({name:this.name,file:this.file,id:this.$parent.userFiles.length+1}),this.displayForm=!1)},handleDisplay(){console.log("display"),this.displayForm=!this.displayForm}}};const Ie=(0,Se.Z)(Ze,[["render",We]]);var Ge=Ie,Ke={name:"ClientDemandForm",data(){return{newDemand:{sujet:"",nature:"",type:"",age:"",usage:"",status_recherche:"",pays:"",ville:"",montant_bien:"",montant_travaux:"",frais_notaire:"",accompagnement:"",apport_personnel:"",commentaire:"",files:[]},displayForm:!1,userFiles:[]}},methods:{handleSubmit(e){""!=this.newDemand.sujet&&""!=this.newDemand.nature&&""!=this.newDemand.type&&""!=this.newDemand.age&&""!=this.newDemand.usage&&""!=this.newDemand.status_recherche&&""!=this.newDemand.pays&&""!=this.newDemand.montant_bien&&""!=this.newDemand.aloneGroup&&""!=this.newDemand.apport_personnel?(e.preventDefault(),console.log(localStorage.getItem("token")),fetch("http://localhost:3000/demande_client/createDemande",{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify(this.newDemand)}).then((e=>{if(e.ok)return e.json();throw new Error("Something went wrong")})).then((e=>{console.log(e),this.$parent.userDemands.push(this.newDemand),console.log(this.$parent.userDemands),this.newDemand={sujet:"",nature:"",type:"",age:"",usage:"",status_recherche:"",pays:"",ville:"",montant_bien:"",montant_travaux:"",frais_notaire:"",accompagnement:"",apport_personnel:"",commentaire:"",files:[]},this.displayForm=!1})).catch((e=>{console.log(e),alert("Une erreur est survenue, veuillez réessayer plus tard")}))):alert("Veuillez remplir tous les champs obligatoires")},handleDisplay(){this.displayForm=!this.displayForm}},components:{ClientFileListCheckableElement:Me,ClientNewFileForm:Ge},mounted(){this.userFiles=[{name:"file1",id:"1"},{name:"file2",id:"2"},{name:"file3",id:"3"}]}};const Xe=(0,Se.Z)(Ke,[["render",ke]]);var Ye=Xe,Je=t(3216);const Qe={id:"notificationListElement"};function en(e,n,t,a,o,i){return(0,l.wg)(),(0,l.iD)("div",Qe,[(0,l._)("span",null,(0,xe.zw)(t.notification.demand),1),(0,l._)("span",null,(0,xe.zw)(t.notification.bank),1)])}var nn={name:"ClientNotificationListElement",props:{notification:{type:Object,required:!0}}};const tn=(0,Se.Z)(nn,[["render",en]]);var ln=tn;const an={id:"demandListElement"},on={class:"demandRow"},sn={class:"demandRow"};function rn(e,n,t,a,o,i){const s=(0,l.up)("client-demand-detail");return(0,l.wg)(),(0,l.iD)("div",an,[(0,l._)("h3",null,(0,xe.zw)(t.demand.sujet),1),(0,l._)("div",on,[(0,l._)("span",null," Acquisition : "+(0,xe.zw)(t.demand.montant_bien)+" €",1),(0,l.Uk)(),(0,l._)("span",null," Apport : "+(0,xe.zw)(t.demand.apport_personnel)+" €",1)]),(0,l._)("div",sn,[(0,l._)("span",null,(0,xe.zw)(t.demand.commentaire),1)]),(0,l.Wm)(s,{propDemand:t.demand},null,8,["propDemand"])])}const un={key:0,id:"modal-form",ref:"modalForm"},mn={id:"form"},dn={class:"mb-3"},pn=(0,l._)("label",{for:"formSubject",class:"form-label"},"Sujet",-1),cn={class:"mb-3"},fn=(0,l._)("label",{for:"formNature",class:"form-label"},"Nature du projet ?",-1),hn=(0,l.uE)('<option value="">Choisissez la nature de votre projet</option><option value="Achat">Achat</option><option value="Construction">Construction</option><option value="Travaux">Travaux</option><option value="Autre">Autre</option>',5),bn=[hn],vn={class:"mb-3"},_n=(0,l._)("label",{for:"formType",class:"form-label"},"Type de bien ?",-1),Dn=(0,l.uE)('<option value="">Choisissez le type du bien</option><option value="Maison">Maison</option><option value="Appartement">Appartement</option><option value="Terrain">Terrain</option><option value="Autre">Autre</option>',5),wn=[Dn],yn={class:"mb-3"},gn=(0,l._)("label",{for:"formAge",class:"form-label"},"Age du bien ?",-1),Cn=(0,l._)("option",{value:""},"Choisissez l'âge du bien",-1),An=(0,l._)("option",{value:"Ancien"},"Ancien",-1),Vn=(0,l._)("option",{value:"Neuf"},"Neuf",-1),Fn=(0,l._)("option",{value:"Vente sur plan"},"Vente sur plan",-1),Un=[Cn,An,Vn,Fn],zn={class:"mb-3"},kn=(0,l._)("label",{for:"formPurpose",class:"form-label"},"Usage du bien ?",-1),xn=(0,l.uE)('<option value="">Choisissez l&#39;usage du bien</option><option value="Résidence principale">Résidence principale</option><option value="Résidence secondaire">Résidence secondaire</option><option value="Investissement locatif">Investissement locatif</option><option value="Usage professionnel">Usage professionnel</option><option value="Usage mixte">Usage mixte</option><option value="Autre">Autre</option>',7),qn=[xn],jn={class:"mb-3"},Nn=(0,l._)("label",{for:"formResearchStatus",class:"form-label"},"Ou en êtes vous dans votre recherche ?",-1),En=(0,l.uE)('<option value="">Renseigner où vous en êtes dans votre recherche</option><option value="En recherche">En recherche</option><option value="Vous vous préparez à faire une offre">Vous vous préparez à faire une offre</option><option value="Vous avez déjà fait une offre">Vous avez déjà fait une offre</option><option value="Vous pensez bientôt signer compromi">Vous pensez bientôt signer compromis</option><option value="Vous avez déjà signé un compromis">Vous avez déjà signé un compromis</option><option value="Autre">Autre</option>',7),Rn=[En],Sn={class:"mb-3"},Tn=(0,l._)("label",{for:"formCountry",class:"form-label"},"Dans quel pays se situe le bien ?",-1),Mn={class:"mb-3"},$n=(0,l._)("label",{for:"formCity",class:"form-label"},"Dans quelle ville se situe le bien ?",-1),Ln={class:"mb-3"},Bn=(0,l._)("label",{for:"formAcquisitionAmount",class:"form-label"},"Montant estimé de l'acquisition ?",-1),On={class:"mb-3"},Pn=(0,l._)("label",{for:"formTravauxAmount",class:"form-label"},"Montant estimé des travaux ?",-1),Hn={class:"mb-3"},Wn=(0,l._)("label",{for:"formNotaireAmount",class:"form-label"},"Frais de notaire ? (optionnel)",-1),Zn={class:"mb-3"},In=(0,l._)("label",{for:"formAloneGroup",class:"form-label"},"Comment empruntez-vous ?",-1),Gn=(0,l._)("option",{value:""},"Vous empruntez seul ? En groupe ? ",-1),Kn=(0,l._)("option",{value:"1"},"Seul",-1),Xn=(0,l._)("option",{value:"2"},"Avec un co-emprunteur",-1),Yn=(0,l._)("option",{value:"3"},"Autre",-1),Jn=[Gn,Kn,Xn,Yn],Qn={class:"mb-3"},et=(0,l._)("label",{for:"formApport",class:"form-label"},"Votre apport personnel ?",-1),nt={class:"mb-3"},tt=(0,l._)("label",{for:"formComment",class:"form-label"},"Commentaires sur le projet ? (optionnel)",-1),lt={class:"mb-3"},at=(0,l._)("label",{for:"formFileMultiple",class:"form-label"},"Vos Fichiers",-1);function ot(e,n,t,o,i,s){const r=(0,l.up)("ClientFileListCheckableElement"),u=(0,l.up)("client-new-file-form");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("button",{id:"detailButton",onClick:n[0]||(n[0]=()=>s.handleDisplay())},"Show Detail"),i.displayDetail?((0,l.wg)(),(0,l.iD)("div",un,[(0,l._)("button",{id:"closeButton",onClick:n[1]||(n[1]=()=>s.handleDisplay())},"X"),(0,l._)("h2",null,"Détails de la demande "+(0,xe.zw)(i.newDemand.subject),1),(0,l._)("form",mn,[(0,l._)("div",dn,[pn,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formSubject","onUpdate:modelValue":n[2]||(n[2]=e=>i.newDemand.sujet=e),placeholder:"Trouvez un titre pour votre demande",required:""},null,512),[[a.nr,i.newDemand.sujet]])]),(0,l._)("div",cn,[fn,(0,l.wy)((0,l._)("select",{class:"form-select","aria-label":"Default select example",id:"formNature","onUpdate:modelValue":n[3]||(n[3]=e=>i.newDemand.nature=e),required:""},bn,512),[[a.bM,i.newDemand.nature]])]),(0,l._)("div",vn,[_n,(0,l.wy)((0,l._)("select",{class:"form-select","aria-label":"Default select example",id:"formType","onUpdate:modelValue":n[4]||(n[4]=e=>i.newDemand.type=e),required:""},wn,512),[[a.bM,i.newDemand.type]])]),(0,l._)("div",yn,[gn,(0,l.wy)((0,l._)("select",{class:"form-select","aria-label":"Default select example",id:"formAge","onUpdate:modelValue":n[5]||(n[5]=e=>i.newDemand.age=e),required:""},Un,512),[[a.bM,i.newDemand.age]])]),(0,l._)("div",zn,[kn,(0,l.wy)((0,l._)("select",{class:"form-select","aria-label":"Default select example",id:"formPurpose","onUpdate:modelValue":n[6]||(n[6]=e=>i.newDemand.usage=e),required:""},qn,512),[[a.bM,i.newDemand.usage]])]),(0,l._)("div",jn,[Nn,(0,l.wy)((0,l._)("select",{class:"form-select","aria-label":"Default select example",id:"formResearchStatus","onUpdate:modelValue":n[7]||(n[7]=e=>i.newDemand.status_recherche=e),required:""},Rn,512),[[a.bM,i.newDemand.status_recherche]])]),(0,l._)("div",Sn,[Tn,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formCountry","onUpdate:modelValue":n[8]||(n[8]=e=>i.newDemand.pays=e),placeholder:"Renseignez le pays où se situe le bien",required:""},null,512),[[a.nr,i.newDemand.pays]])]),(0,l._)("div",Mn,[$n,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formCity","onUpdate:modelValue":n[9]||(n[9]=e=>i.newDemand.ville=e),placeholder:"Renseignez la ville où se situe le bien",required:""},null,512),[[a.nr,i.newDemand.ville]])]),(0,l._)("div",Ln,[Bn,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formAcquisitionAmount","onUpdate:modelValue":n[10]||(n[10]=e=>i.newDemand.montant_bien=e),placeholder:"Renseignez la valeur estimée du bien",required:""},null,512),[[a.nr,i.newDemand.montant_bien]])]),(0,l._)("div",On,[Pn,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formTravauxAmount","onUpdate:modelValue":n[11]||(n[11]=e=>i.newDemand.montant_travaux=e),placeholder:"Renseignez la valeur estimée des travaux",required:""},null,512),[[a.nr,i.newDemand.montant_travaux]])]),(0,l._)("div",Hn,[Wn,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formNotaireAmount","onUpdate:modelValue":n[12]||(n[12]=e=>i.newDemand.frais_notaire=e),placeholder:"Renseignez les frais de notaires, si il y a"},null,512),[[a.nr,i.newDemand.frais_notaire]])]),(0,l._)("div",Zn,[In,(0,l.wy)((0,l._)("select",{class:"form-select","aria-label":"Default select example",id:"formAloneGroup","onUpdate:modelValue":n[13]||(n[13]=e=>i.newDemand.accompagnement=e),required:""},Jn,512),[[a.bM,i.newDemand.accompagnement]])]),(0,l._)("div",Qn,[et,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formApport","onUpdate:modelValue":n[14]||(n[14]=e=>i.newDemand.apport_personnel=e),placeholder:"Renseignez votre apport dans l'acquisition",required:""},null,512),[[a.nr,i.newDemand.apport_personnel]])]),(0,l._)("div",nt,[tt,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"formComment","onUpdate:modelValue":n[15]||(n[15]=e=>i.newDemand.commentaire=e),placeholder:"Vous pouvez ajouter tout détail que vous pensez significant"},null,512),[[a.nr,i.newDemand.commentaire]])]),(0,l._)("div",lt,[at,(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.userFiles,(e=>((0,l.wg)(),(0,l.j4)(r,{key:e.name,file:e},null,8,["file"])))),128))]),(0,l.Wm)(u)]),(0,l._)("button",{type:"submit",class:"btn btn-primary",onClick:n[16]||(n[16]=e=>s.handleSubmit(e))},"Envoyer")])],512)):(0,l.kq)("",!0)])}var it={name:"ClientDemandDetail",components:{ClientFileListCheckableElement:Me,ClientNewFileForm:Ge},props:{propDemand:{type:Object,required:!0}},data(){return{newDemand:{},displayDetail:!1,userFiles:[]}},methods:{handleSubmit(e){if(""==this.newDemand.subject||""==this.newDemand.nature||""==this.newDemand.type||""==this.newDemand.age||""==this.newDemand.usage||""==this.newDemand.researchStatus||""==this.newDemand.country||""==this.newDemand.city||""==this.newDemand.acquisitionAmount||""==this.newDemand.aloneGroup||""==this.newDemand.apport)return;e.preventDefault(),console.log(this.$parent.userDemands);let n=new FormData;n.append("subject",this.subject),n.append("amount",this.amount),n.append("duration",this.duration),n.append("purpose",this.purpose),n.append("files",this.files);let t=new XMLHttpRequest;t.open("PUT","http://localhost:3000/api/demand"),t.send(n),t.onload=()=>{console.log(t.response)}},handleDisplay(){this.displayDetail=!this.displayDetail}},mounted(){this.userFiles=[{name:"file1",id:"1"},{name:"file2",id:"2"},{name:"file3",id:"3"}],this.newDemand=this.propDemand}};const st=(0,Se.Z)(it,[["render",ot]]);var rt=st,ut={components:{ClientDemandDetail:rt},name:"ClientDemandsListElement",props:{demand:{type:Object,required:!0}},methods:{handleDisplayDetail(){alert("WIP")}}};const mt=(0,Se.Z)(ut,[["render",rn]]);var dt=mt;const pt={key:0,id:"modal-list"},ct=(0,l._)("h2",{style:{"margin-bottom":"30px"}},"Vos fichiers",-1),ft={class:"list-group"},ht=["onClick"],bt=["onClick"],vt=["onClick"];function _t(e,n,t,a,o,i){const s=(0,l.up)("client-new-file-form");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("button",{onClick:n[0]||(n[0]=()=>i.handleDisplay())},"Vos fichiers"),o.display?((0,l.wg)(),(0,l.iD)("div",pt,[(0,l._)("button",{id:"closeButton",onClick:n[1]||(n[1]=()=>i.handleDisplay())},"X"),(0,l._)("div",null,[ct,(0,l._)("ul",ft,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.userFiles,(e=>((0,l.wg)(),(0,l.iD)("li",{class:"fileRow list-group-item",key:e.name},[(0,l._)("div",null,(0,xe.zw)(e.name)+" - "+(0,xe.zw)(e.use)+" - "+(0,xe.zw)(e.size),1),(0,l._)("div",null,[(0,l._)("button",{class:"btn btn-success fileRowButton",onClick:()=>i.handleDownload(e.name)},"Télécharger",8,ht),(0,l._)("button",{class:"btn btn-light fileRowButton",onClick:()=>i.handleReplace(e.name)},"Remplacer",8,bt),(0,l._)("button",{class:"btn btn-danger fileRowButton",onClick:()=>i.handleDelete(e.name)},"Supprimer",8,vt)])])))),128))])]),(0,l.Wm)(s)])):(0,l.kq)("",!0)])}var Dt={components:{ClientNewFileForm:Ge},name:"ClientFileList",data(){return{userFiles:[],display:!1}},methods:{handleDisplay(){this.display=!this.display},handleDelete(e){console.log(e),confirm("Voulez-vous vraiment supprimer ce fichier ?")&&(this.userFiles=this.userFiles.filter((n=>n.name!==e)),console.log(this.userFiles))},onFilesChange(e){this.newFile.file=e.target.files[0]},handleSubmit(e){""!=this.newFile.name&&""!=this.newFile.use&&null!=this.newFile.file&&(e.preventDefault(),this.userFiles.push({name:this.newFile.name,use:this.newFile.use,size:this.newFile.file.size,file:this.newFile.file}),this.newFile={name:"",use:"",file:null},this.newForm=!1)},handleDownload(e){console.log(e)},handleReplace(e){console.log(e)},fetchUserFiles(){}},mounted(){this.userFiles=[{name:"test",use:"test",size:1e3,file:null},{name:"test2",use:"test2",size:2e3,file:null}],this.fetchUserFiles()}};const wt=(0,Se.Z)(Dt,[["render",_t]]);var yt=wt,gt={name:"ClientHomeView",components:{HeaderComponent:Je.Z,ClientDemandForm:Ye,ClientNotificationListElement:ln,ClientDemandsListElement:dt,ClientFileList:yt},data(){return{userData:{},userNotifications:[],userDemands:[]}},methods:{fetchUserData(){this.userData={name:"Doe",firstname:"John",birthdate:"2002-09-29",phone:"0123456789",email:"john.doe@gmail.com",occupation:"Software Engineer"},console.log(this.userData)},fetchUserNotifications(){this.userNotifications=[{demand:"Demande de prêt 1",bank:"Crédit Agricole"},{demand:"Demande de prêt 1",bank:"BNP Paribas"},{demand:"Demande de prêt 2",bank:"Crédit Agricole"}]},fetchUserDemands(){fetch("http://localhost:3000/demande_client/getAllDemandes",{headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}}).then((e=>e.json())).then((e=>{console.log(e),this.userDemands=e}))},sendUserData(){}},mounted(){console.log("Mounted"),this.fetchUserData(),this.fetchUserNotifications(),this.fetchUserDemands()},beforeUnmount(){console.log("Unmounted"),this.sendUserData()}};const Ct=(0,Se.Z)(gt,[["render",q]]);var At=Ct}}]);
//# sourceMappingURL=728.0fb9b2ee.js.map