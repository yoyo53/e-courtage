{"version":3,"file":"js/518.77df2451.js","mappings":"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","sources":["webpack://front/./src/views/ClientRegisterView.vue","webpack://front/./src/views/ClientRegisterView.vue?63a7"],"sourcesContent":["<template>\n    <div id=\"registerMain\">\n        <h1>Inscription</h1>\n\n        <form id=\"registerForm\">\n\n            <div class=\"mb-3\">\n                <label for=\"formName\" class=\"form-label\">Nom</label>\n                <input type=\"text\" class=\"form-control\" id=\"formName\" v-model=\"userInfo.nom\" required/>\n            </div>\n\n            <div class=\"mb-3\">\n                <label for=\"formFirstName\" class=\"form-label\">Prénom</label>\n                <input type=\"text\" class=\"form-control\" id=\"formFirstName\" v-model=\"userInfo.prenom\" required/>\n            </div>\n\n            <div class=\"mb-3\">\n                <label for=\"formEmail\" class=\"form-label\">Adresse Email</label>\n                <input type=\"email\" class=\"form-control\" id=\"formEmail\" placeholder=\"name@example.com\" v-model=\"userInfo.email\" required/>\n            </div>\n\n            <div class=\"mb-3\">\n                <label for=\"formGenre\" class=\"form-label\">Genre</label>\n                <select class=\"form-select\" aria-label=\"Default select example\" id=\"formGenre\" v-model=\"userInfo.genre\">\n                    <option value=\"\">Selectionnez votre genre</option>\n                    <option value=\"1\">homme</option>\n                    <option value=\"2\">femme</option>\n                    <option value=\"3\">autre</option>\n                </select>\n            </div>\n\n            <div class=\"mb-3\">\n                <label for=\"formBirthDate\" class=\"form-label\">Date de naissance</label>\n                <input type=\"date\" class=\"form-control\" id=\"formBirthDate\" v-model=\"userInfo.date_birth\" required/>\n            </div>\n\n            <div class=\"mb-3\">\n                <label for=\"formTelephone\" class=\"form-label\">Telephone</label>\n                <input type=\"tel\" class=\"form-control\" id=\"formTelephone\" v-model=\"userInfo.tel\" required/>\n            </div>\n            <div class=\"mb-3\">\n                <label for=\"formCountry\" class=\"form-label\">Pays</label>\n                <input type=\"text\" class=\"form-control\" id=\"formCountry\" v-model=\"userInfo.pays\" required/>\n            </div>\n            <div class=\"mb-3\">\n                <label for=\"formCity\" class=\"form-label\">Ville</label>\n                <input type=\"text\" class=\"form-control\" id=\"formCity\" v-model=\"userInfo.ville\" required/>\n            </div>\n            <div class=\"mb-3\">\n                <label for=\"formAddress\" class=\"form-label\">Adresse</label>\n                <input type=\"text\" class=\"form-control\" id=\"formAddress\" v-model=\"userInfo.adresse\" required/>\n            </div>\n            <div class=\"mb-3\">\n                <label for=\"formHealthDocument\" class=\"form-label\">Document de santé</label>\n                <input type=\"file\" class=\"form-control\" id=\"formHealthDocument\" required @change=\"(ev)=>handleDocumentPlacement(ev)\" />\n            </div>\n\n            <div class=\"mb-3\">\n                <label for=\"formPassword\" class=\"form-label\">Mot de passe</label>\n                <input type=\"password\" class=\"form-control\" id=\"formPassword\" placeholder=\"********\" v-model=\"userInfo.password\" required>\n            </div>\n\n            <div class=\"mb-3\">\n                <label for=\"formRePassword\" class=\"form-label\">Confirmez le mot de passe</label>\n                <input type=\"password\" class=\"form-control\" id=\"formRePassword\" placeholder=\"********\" v-model=\"rePassword\" required>\n            </div>\n\n            <div class=\"mb-3\">\n                <button type=\"submit\" class=\"btn btn-primary\" @click=\"(ev)=>handleRegister(ev)\">Inscription</button>\n            </div>\n\n        </form>\n        <div id=\"registerLinks\">\n            <router-link to=\"/login\">Vous avez déjà un compte ?</router-link>\n            <router-link to=\"/register/bank\">Vous vous inscrivez en tant que banque ?</router-link>\n            <router-link to=\"/\">Retour à la page d'accueil</router-link>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            userInfo: {\n                nom: '',\n                prenom: '',\n                email: '',\n                genre: '',\n                date_birth: '',\n                tel: '',\n                pays: '',\n                ville: '',\n                adresse: '',\n                password: ''\n            },\n            healthDocument: null,\n            rePassword: ''\n        }\n    },\n    methods: {\n        handleDocumentPlacement(ev) {\n            this.healthDocument = ev.target.files[0];\n        },\n        handleRegister(ev) {\n\n            if(this.userInfo.nom == '' || this.userInfo.prenom == '' || this.userInfo.email == '' || this.userInfo.genre == '' || this.userInfo.date_birth == '' || this.userInfo.tel == '' || this.userInfo.pays == '' || this.userInfo.ville == '' || this.userInfo.adresse == '' || this.userInfo.password == '') {\n                this.$notify({\n                    group: 'foo',\n                    title: 'Error',\n                    text: 'Veuiilez remplir tous les champs',\n                    type: 'warn'\n                });\n                return;\n            }\n\n            ev.preventDefault();\n            console.log(this.userInfo);\n            if(this.userInfo.password !== this.rePassword) {\n                this.$notify({\n                    group: 'foo',\n                    title: 'Error',\n                    text: 'Les mots de passe ne correspondent pas',\n                    type: 'warn'\n                });\n                return;\n            }\n            fetch(this.api_url + 'auth/registerClient', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(this.userInfo)\n            })\n            .then(res => res.json())\n            .then(data => {\n                console.log(data);\n                if(data.id_client != null) {\n                    localStorage.setItem('token', data.token);\n                    this.$router.push('/login');\n                } else {\n                    this.$notify({\n                        group: 'foo',\n                        title: 'Error',\n                        text: 'Une erreur est survenue',\n                        type: 'warn'\n                    });\n                }\n            })\n\n            //We send the file with a XMLHttpRequest\n            let formData = new FormData();\n            formData.append('file', this.file);\n            formData.append('nom_document', \"Document de santé\");\n            formData.append('type', \"Document médical\");\n            \n            let xhr = new XMLHttpRequest();\n            xhr.open('POST', this.api_url + 'document/addDocument');\n            xhr.setRequestHeader('Authorization', localStorage.getItem('token'));\n            xhr.send(formData);\n            xhr.onload = () => {\n                if(xhr.status == 200){\n                    console.log(\"File sent\");\n                }\n                else{\n                    console.log(\"Error while sending file\");\n                }\n            }\n\n        }\n    }\n}\n</script>\n\n<style>\n\n    #registerMain {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        text-align: center;\n        border-radius: 10px;\n        border: 3px solid #000000;\n        padding: 1vh;\n    }\n\n    #registerForm {\n        width: 80%;\n        margin: auto;\n        margin-top: 10%;\n\n        height: 60vh;\n        overflow-y : scroll;\n        scrollbar-width: none;\n\n    }\n\n    #registerLinks {\n        margin-top: 2vw;\n        display: flex;\n        flex-direction: column;\n        padding: 1vh;\n        border-radius: 10px;\n        border: 3px solid #000000;\n        background-color: #b9b9b9;\n    }\n\n</style>","import { render } from \"./ClientRegisterView.vue?vue&type=template&id=b58e3b6a\"\nimport script from \"./ClientRegisterView.vue?vue&type=script&lang=js\"\nexport * from \"./ClientRegisterView.vue?vue&type=script&lang=js\"\n\nimport \"./ClientRegisterView.vue?vue&type=style&index=0&id=b58e3b6a&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","_createElementVNode","class","for","value","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","type","$data","userInfo","nom","$event","required","_hoisted_6","_hoisted_7","prenom","_hoisted_8","_hoisted_9","placeholder","email","_hoisted_10","_hoisted_11","genre","_hoisted_17","_hoisted_18","date_birth","_hoisted_19","_hoisted_20","tel","_hoisted_21","_hoisted_22","pays","_hoisted_23","_hoisted_24","ville","_hoisted_25","_hoisted_26","adresse","_hoisted_27","_hoisted_28","onChange","_cache","ev","$options","handleDocumentPlacement","_hoisted_29","_hoisted_30","password","_hoisted_31","_hoisted_32","rePassword","_hoisted_33","onClick","handleRegister","_hoisted_34","_createVNode","_component_router_link","to","data","healthDocument","methods","this","target","files","$notify","group","title","text","preventDefault","console","log","fetch","api_url","method","headers","body","JSON","stringify","then","res","json","id_client","localStorage","setItem","token","$router","push","formData","FormData","append","file","xhr","XMLHttpRequest","open","setRequestHeader","getItem","send","onload","status","__exports__","render"],"sourceRoot":""}