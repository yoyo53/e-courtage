"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[548],{4548:function(e,n,d){d.r(n),d.d(n,{default:function(){return N}});var a=d(3396),t=d(9242);const s={id:"main-body"},i=(0,a._)("h3",null,"Liste des demandes en cours :",-1),l={id:"demands-overview-area",class:"section-list"},o={id:"demands-area-header"},r={id:"research-input",class:"input-group flex-nowrap"},m=(0,a._)("option",{value:""},"Trier par :",-1),u=(0,a._)("option",{value:"Name"},"Nom",-1),p=(0,a._)("option",{value:"Value"},"Valeur",-1),c=(0,a._)("option",{value:"Salaire"},"Salaire",-1),h=[m,u,p,c],v=(0,a._)("option",{value:"0"},"Afficher Tous",-1),_=(0,a._)("option",{value:"1"},"Favoris Uniquement",-1),f=[v,_],D={id:"demands-overview-area"},y=(0,a._)("h2",null,"Liste des demandes :",-1),b={id:"demands-list",class:"section-list"};function w(e,n,d,m,u,p){const c=(0,a.up)("HeaderComponent"),v=(0,a.up)("client-bank-demands-list-element");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(c),(0,a._)("div",s,[i,(0,a._)("div",l,[(0,a._)("div",o,[(0,a._)("div",r,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"Recherche","aria-label":"Recherche","aria-describedby":"addon-wrapping","onUpdate:modelValue":n[0]||(n[0]=e=>u.searchInput=e)},null,512),[[t.nr,u.searchInput]])]),(0,a._)("div",null,[(0,a.wy)((0,a._)("select",{id:"sort-choices",class:"form-select","aria-label":"Default select example","onUpdate:modelValue":n[1]||(n[1]=e=>u.orderBy=e)},h,512),[[t.bM,u.orderBy]])]),(0,a._)("div",null,[(0,a.wy)((0,a._)("select",{id:"sort-choices",class:"form-select","aria-label":"Default select example","onUpdate:modelValue":n[2]||(n[2]=e=>u.onlyPinned=e)},f,512),[[t.bM,u.onlyPinned]])])]),(0,a._)("div",D,[y,(0,a._)("ul",b,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(u.displayedDemands,(e=>((0,a.wg)(),(0,a.j4)(v,{key:e.id,demand:e},null,8,["demand"])))),128))])])])])])}d(7658);var k=d(7139);const g={id:"demandListElement"},j={id:"buttons_options"},B=(0,a._)("span",null,[(0,a._)("p",{id:"delete",class:"but",onclick:"deleteElement()"},"x")],-1),C={class:"demandRow"},P={class:"demandRow"},L={class:"demandRow"};function E(e,n,d,t,s,i){const l=(0,a.up)("bank-demand-detail");return(0,a.wg)(),(0,a.iD)("div",g,[(0,a._)("div",j,[B,(0,a._)("span",null,[(0,a._)("p",{id:"favorite",class:"but",onClick:n[0]||(n[0]=()=>i.favoriteElement())},"☆")]),(0,a._)("span",null,[(0,a._)("p",{id:"valid",class:"but",onClick:n[1]||(n[1]=()=>i.validElement())},"+")])]),(0,a._)("h2",null,(0,k.zw)(d.demand.sujet),1),(0,a._)("div",C,[(0,a._)("span",null," Nom : "+(0,k.zw)(d.demand.nom),1),(0,a.Uk)(),(0,a._)("span",null," Salaire : "+(0,k.zw)(d.demand.revenu_mensuel)+" €",1)]),(0,a._)("div",P,[(0,a._)("span",null," Valeur : "+(0,k.zw)(d.demand.montant_bien)+" €",1)]),(0,a._)("div",L,[(0,a._)("span",null,(0,k.zw)(d.demand.commentaire),1)]),(0,a.Wm)(l,{demand:d.demand},null,8,["demand"])])}const U={key:0,id:"modal-form",ref:"modalForm"},V=(0,a._)("h2",null,"Détails de la demande",-1);function $(e,n,d,t,s,i){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("button",{id:"detailButton",onClick:n[0]||(n[0]=()=>i.handleDisplay())},"Détails"),s.displayDetail?((0,a.wg)(),(0,a.iD)("div",U,[(0,a._)("button",{id:"closeButton",onClick:n[1]||(n[1]=()=>i.handleDisplay())},"X"),V],512)):(0,a.kq)("",!0)])}var A={data(){return{displayDetail:!1}},props:{demand:{type:Object,required:!0}},methods:{handleDisplay(){this.displayDetail=!this.displayDetail}}},I=d(89);const z=(0,I.Z)(A,[["render",$]]);var F=z,H={components:{BankDemandDetail:F},name:"ClientDemandsListElement",props:{demand:{type:Object,required:!0}},methods:{handleDisplayDetail(){alert("WIP")},deleteElement(){},validElement(){0==this.$parent.userDemands.find((e=>e.id==this.demand.id)).added?this.$parent.userDemands.find((e=>e.id==this.demand.id)).added=!0:this.$parent.userDemands.find((e=>e.id==this.demand.id)).added=!1,console.log(this.$parent.userDemands)},favoriteElement(){0==this.$parent.userDemands.find((e=>e.id==this.demand.id)).favorite?this.$parent.userDemands.find((e=>e.id==this.demand.id)).favorite=!0:this.$parent.userDemands.find((e=>e.id==this.demand.id)).favorite=!1,console.log(this.$parent.userDemands)}}};const M=(0,I.Z)(H,[["render",E]]);var R=M,S=d(9222),q={name:"BankHomeView",components:{HeaderComponent:S.Z,ClientBankDemandsListElement:R},data(){return{userDemands:[],displayedDemands:[],searchInput:"",orderBy:"",onlyPinned:0}},watch:{searchInput(e){console.log(e),this.performAllFilters()},orderBy(e){console.log(e),this.performAllFilters()},onlyPinned(e){console.log(e),this.performAllFilters()}},methods:{performAllFilters(){this.displayedDemands=this.userDemands.filter((e=>e.sujet.toLowerCase().includes(this.searchInput.toLowerCase()))),"Name"==this.orderBy?this.displayedDemands.sort(((e,n)=>e.nom.localeCompare(n.nom))):"Value"==this.orderBy?this.displayedDemands.sort(((e,n)=>e.montant_bien-n.montant_bien)):"Salaire"==this.orderBy?this.displayedDemands.sort(((e,n)=>e.revenu_mensuel-n.revenu_mensuel)):this.displayedDemands.sort(((e,n)=>e.id-n.id)),1==this.onlyPinned&&(this.displayedDemands=this.displayedDemands.filter((e=>e.favorite)))},fetchBankUserDemands(){this.userDemands=[{id:0,sujet:"Projet Maison",nom:"Jesen Brown",montant_bien:3e5,revenu_mensuel:4e3,favorite:!1,added:!1},{id:1,sujet:"Projet construction",nom:"Mike Harvey",montant_bien:9e5,revenu_mensuel:8e3,favorite:!1,added:!1},{id:2,sujet:"Projet jet",nom:"Louis Litt",montant_bien:5e5,revenu_mensuel:6e3,favorite:!1,added:!1},{id:3,sujet:"Projet LVMH",nom:"Bernard Arnaud",montant_bien:2e7,revenu_mensuel:6e4,favorite:!1,added:!1},{id:4,sujet:"Projet lawyer",nom:"Specter Ross",montant_bien:1e5,revenu_mensuel:3e3,favorite:!1,added:!1},{id:5,sujet:"Projet club",nom:"Jimmy Buckets",montant_bien:1e6,revenu_mensuel:8e3,favorite:!1,added:!1}],this.displayedDemands=this.userDemands,fetch(this.api_url+"demande_banque/getAllDemandes",{headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}}).then((e=>(401==e.status&&this.$router.push("/login/bank"),e.json()))).then((e=>{console.log(e)}))}},mounted(){console.log("Mounted"),this.fetchBankUserDemands()},beforeUnmount(){console.log("Unmounted")}};const x=(0,I.Z)(q,[["render",w]]);var N=x}}]);
//# sourceMappingURL=548.893b06a5.js.map